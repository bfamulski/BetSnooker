<div *ngIf="loading" class="center-container">
  <span class="spinner-border spinner-border-lm" style="display: inline-block; margin: 50px;"></span>
</div>

<div *ngIf="!loading && !error && !noBetsAvailable">
  <div *ngIf="successfulSubmit" class="alert alert-info mt-3 mb-0 alert-dismissible">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    Bets have been submitted successfully
  </div>
  <div *ngFor="let validationError of validationErrors" class="alert alert-warning mt-3 mb-0 alert-dismissible">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    {{validationError}}
  </div>

  <div class="title-container" style="padding-top: 10px;">{{roundInfo?.roundName}}</div>
  <div class="sub-title-container" style="padding-bottom: 4px;">Best Of: {{roundInfo.distance * 2 - 1}}</div>
  <div>
    <table class="table table-responsive">
        <thead class="table-header">
          <tr style="padding: 0px;">
            <th style="text-align: right;">PLAYER 1</th>
            <th style="text-align: right;"></th>
            <th style="text-align: center;"></th>
            <th style="text-align: left;"></th>
            <th style="text-align: left;">PLAYER 2</th>
          </tr>
        </thead>
        <div *ngIf="loading" class="spinner-border spinner-border-lm" style="margin: 10px;"></div>
        <tbody>
          <tr mdbTableCol *ngFor="let bet of bets">
            <td style="text-align: right; width: 500px; padding: 4px;">{{bet.player1Name}}</td>
            <td style="text-align: right; padding: 4px;">
                <input type="number" min="0" max="{{roundInfo.distance}}" [(ngModel)]="bet.score1" style="width: 40px;" (ngModelChange)="inputChanged()"/>
            </td>
            <td style="text-align: center; width: 20px; max-width: 20px; padding: 4px;">:</td>
            <td style="text-align: left; padding: 4px;">
                <input type="number" min="0" max="{{roundInfo.distance}}" [(ngModel)]="bet.score2" style="width: 40px;" (ngModelChange)="inputChanged()"/>
            </td>
            <td style="text-align: left; width: 500px; padding: 4px;">{{bet.player2Name}}</td>
          </tr>
        </tbody>
    </table>
  </div>

  <div class="center-container">
    <button type="submit" class="btn btn-success" style="width: 200px; margin: 20px;" (click)="submit()" [disabled]="!canSubmit()">Submit</button>
    <div *ngIf="lastUpdatedAt" style="font-size: smaller;">Last updated at: {{lastUpdatedAt}}</div>
  </div>
</div>

<div *ngIf="noBetsAvailable" class="alert alert-info mt-3 mb-0">No bets available at this moment</div>
<div *ngIf="error" class="alert alert-danger mt-3 mb-0 alert-dismissible">
  <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
  {{error}}
</div>